import{E as s}from"./event-bus.6a5776a8.js";import{i as e}from"./vendor/vendor-core.3574f8d9.js";const o={data(){return{isLoading:!0,isFetching:!0,uuid:null,subUuid:null,entity:null,duplicate:!1,duplicateRoute:null,fallBackRoute:"appDashboard",initUrl:"",initSubUrl:null}},methods:{...e("common",["Init","InitSub","Get"]),getInitialData(){this.isLoading=!0,this.Get(this.uuid).then(t=>{this.entity=t,this.isLoading=!1,this.isFetching=!1}).catch(t=>{this.isLoading=!1,this.formErrors=formUtil.handleErrors(t),this.$router.push({name:this.fallBackRoute})})}},mounted(){this.$route.params.uuid&&(this.uuid=this.$route.params.uuid),this.$route.params.subUuid&&(this.subUuid=this.$route.params.subUuid),this.duplicateRoute&&this.$route.name===this.duplicateRoute&&(this.duplicate=!0),this.Init({url:this.initUrl}),this.initSubUrl&&this.InitSub({url:(this.subUuid?this.subUuid+"/":"")+this.initSubUrl}),this.getInitialData()},beforeRouteEnter(t,u,i){t.params.uuid?i():i({name:this.fallBackRoute})},beforeRouteLeave(t,u,i){s.$emit("ROUTE_LEAVING",i)}};export{o as e};
