import{t as a}from"../../../table.beb39f38.js";import{f as n}from"../../../filter-form.45f778d7.js";import{n as r}from"../../../_plugin-vue2_normalizer.7b9a2fe2.js";import{u as o}from"../../../vendor/vendor-ua-parser-js.1dcceee1.js";import"../../../app.a373aa59.js";import"../../../vendor/vendor-core.3574f8d9.js";import"../../../vendor/vendor-others.c8ba1624.js";import"../../../vendor/vendor-essential.91b5cfa2.js";import"../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../header.43f859fb.js";import"../../../event-bus.6a5776a8.js";const l={extends:n};var p=function(){var t=this,s=t._self._c;return s("filter-wrapper",{attrs:{boxed:t.boxed,"is-loading":t.isLoading},on:{close:function(e){return t.$emit("close")}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 mb-3"},[s("date-between",{attrs:{label:t.$t("global.between",{attribute:t.$t("activity.activities")}),start:t.filters.startDate,end:t.filters.endDate,disabled:t.isLoading},on:{"update:start":function(e){return t.$set(t.filters,"startDate",e)},"update:end":function(e){return t.$set(t.filters,"endDate",e)}}})],1)])])},c=[],u=r(l,p,c,!1,null,null,null,null);const d=u.exports,m={components:{FilterForm:d},extends:a,data(){return{fields:[{key:"createdAt",label:$t("activity.props.created_at"),sort:"created_at"},{key:"causer",label:$t("user.user")},{key:"description",label:$t("activity.props.description")},{key:"ip",label:$t("activity.props.ip")},{key:"browser",label:$t("activity.props.browser")},{key:"os",label:$t("activity.props.os")}],filtersOptions:{startDate:"",endDate:""},sortOptions:{hasScroll:!0},columnsOptions:{hasScroll:!0},exportOptions:{orientation:"l"},initUrl:"activities",dataType:"activity"}},methods:{getAgent(i,t,s=!1){let e=new o.exports.UAParser(i);return e=e.getResult(),s?`${e[t].name} (${e[t].version})`:e[t]}},mounted(){this.updatePageMeta()}};var f=function(){var t=this,s=t._self._c;return s("div",{staticClass:"entity-list-container"},[s("collapse-transition",{attrs:{group:!0,duration:300,tag:"div"}},[t.showFilters?s("filter-form",{key:"filters",attrs:{boxed:!0},on:{close:t.toggleFilter}}):t._e(),s("base-container",{key:"list",staticClass:"p-0",attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[t.isInitialized?s("table-wrapper",{attrs:{meta:t.entities.meta,filtered:t.isFiltered,"entity-title":"activity.activity","entities-title":"activity.activities","entity-description":"activity.module_description"}},[s("b-table",{directives:[{name:"show",rawName:"v-show",value:t.entities.meta.total,expression:"entities.meta.total"}],ref:"btable",attrs:{items:t.itemsProvider,fields:t.fields,busy:t.isLoading,hover:"",striped:"",stacked:"sm","per-page":t.entities.meta.perPage,"current-page":t.entities.meta.currentPage,filters:null},on:{"update:busy":function(e){t.isLoading=e}},scopedSlots:t._u([{key:"cell(createdAt)",fn:function(e){return[s("view-date",{staticClass:"mb-0",attrs:{value:e.item.createdAt,"with-tz":"",tag:"span"}})]}},{key:"cell(causer)",fn:function(e){return[e.item.causer?s("view-user",{staticClass:"m-0",attrs:{value:e.item.causer,"show-sub":!1,"inline-sub":"","show-image":!1,"data-classes":"m-0"}}):s("span",{staticClass:"text-muted"},[t._v("-")])]}},{key:"cell(ip)",fn:function(e){return[e.item.properties&&e.item.properties.ip?s("span",[t._v(t._s(e.item.properties.ip))]):s("span",{staticClass:"text-muted"},[t._v("-")])]}},{key:"cell(browser)",fn:function(e){return[e.item.properties&&e.item.properties.userAgent?s("span",[t._v(t._s(t.getAgent(e.item.properties.userAgent,"browser",!0)))]):s("span",{staticClass:"text-muted"},[t._v("-")])]}},{key:"cell(os)",fn:function(e){return[e.item.properties&&e.item.properties.userAgent?s("span",[t._v(t._s(t.getAgent(e.item.properties.userAgent,"os",!0)))]):s("span",{staticClass:"text-muted"},[t._v("-")])]}}],null,!1,2465401647)})],1):t._e()],1)],1)],1)},v=[],_=r(m,f,v,!1,null,null,null,null);const P=_.exports;export{P as default};
