import{I as r}from"../../../vendor/vendor-vue-infinite-scroll.cab38bbf.js";import{t as n}from"../../../table.beb39f38.js";import{F as s}from"../../../filter.0a184e03.js";import{M as l}from"../../../meeting-card.e07a6991.js";import{M as d}from"../../../meeting-dropdown-options.525c3a15.js";import{s as c}from"../../../media.60d422e2.js";import{a as m}from"../../../vendor/vendor-add-to-calendar-button.e1fec2ab.js";import{n as p}from"../../../_plugin-vue2_normalizer.7b9a2fe2.js";import"../../../app.a373aa59.js";import"../../../vendor/vendor-core.3574f8d9.js";import"../../../vendor/vendor-others.c8ba1624.js";import"../../../vendor/vendor-essential.91b5cfa2.js";import"../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../header.43f859fb.js";import"../../../event-bus.6a5776a8.js";import"../../../filter-form.45f778d7.js";const g={directives:{infiniteScroll:r},components:{FilterForm:s,MeetingCard:l,MeetingDropdownOptions:d},extends:n,data(){return{preRequisite:{types:[],categories:[],statuses:[]},filtersOptions:{keyword:"",type:"",category:"",status:"",startDate:"",endDate:""},sortOptions:{hasScroll:!0},exportOptions:{orientation:"l"},permissionsRequired:{add:"create-meeting",config:"access-meeting-config"},routesRequired:{add:"appMeetingAdd",config:"appMeetingConfigGeneral"},initUrl:"meetings",dataType:"meeting",feedTable:!0}},methods:{shareURL(i){let e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e=e+(i.identifier?`/m/${i.identifier}`:`/app/live/meetings/${i.uuid}`);const t=i.identifier?`<span class="text-nowrap">${$t("meeting.meeting_code")}:</span> <strong class="ml-2 text-wrap-pre-line text-word-break-all"> ${i.identifier}</strong>`:null;c({title:$t("meeting.user_inviting_msg",{attribute:this.profile?this.profile.name:"User"}),alertTitle:t,alertHtml:`${$t("misc.share_alert.text")}<br><small class='text-muted'>${e}</small><br>`,url:e},()=>{this.$toasted.success($t("meeting.url_has_been_copied"),this.$toastConfig)})},addToCalendar(i){const e=i.startDateTime.split(" ");let t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");t=t+(i.identifier?`/m/${i.identifier}`:`/app/live/meetings/${i.uuid}`);let o={name:i.title,description:$t("meeting.reminder.notification_cta")+` [br]
[url]`+t+"|"+t+`[/url] [br]
`+i.agenda,startDate:e[0],options:["Apple","Google","iCal","Microsoft365","Outlook.com","Yahoo"],iCalFileName:($t("meeting.scheduled_meeting")+" "+i.identifier).replace(/\s/gi,"-"),timeZone:"UTC"};if(i.period){let a=moment(i.startDateTime,this.vars.serverDateTimeFormat).add(i.period,"minutes").format(this.vars.serverDateTimeFormat);a=a.split(" "),o.startTime=e[1],o.endDate=a[0],o.endTime=a[1]}m(o)}},mounted(){this.getInitialData()},created(){this.configs&&this.configs.meeting&&this.configs.meeting.cardLayout||location.reload()}};var f=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.updatePageMeta,expression:"updatePageMeta"}],class:["entity-list-container meetings-feed-wrapper",`card-layout-design-${e.configs.meeting.cardLayoutDesign}`],attrs:{"infinite-scroll-disabled":e.isLoading&&e.isFetching,"infinite-scroll-distance":"100"}},[t("collapse-transition",{attrs:{group:!0,duration:300,tag:"div"}},[e.showFilters?t("filter-form",{key:"filters",attrs:{boxed:!0,"pre-requisite":e.preRequisite,"is-loading":e.isLoading},on:{close:e.toggleFilter}}):e._e()],1),t("animated-loader",{key:"loader",attrs:{"is-loading":e.isLoading,"loader-color":e.vars.loaderColor,"overlay-color":"transparent"}}),t("feed-wrapper",{key:"feed",attrs:{meta:e.feed.meta,filtered:e.isFiltered,"add-button-route":"appMeetingAdd","add-button-permissions":["create-meeting"],"entity-title":"meeting.meeting","entities-title":"meeting.meetings","entity-description":"meeting.module_description"}},[t("div",{staticClass:"meetings-feed"},[t("div",{staticClass:"row"},[e._l(e.feed.data,function(o){return[t("div",{key:o.uuid,staticClass:"col-12 col-md-6 col-lg-4 item"},[t("meeting-card",{attrs:{meeting:o,flex:!1,raise:!0},scopedSlots:e._u([{key:"actions",fn:function(){return[t("base-dropdown",{staticClass:"actions-menu",attrs:{tag:"div",direction:"down","menu-classes":"show-dropdown-up",position:"right"}},[t("div",{staticClass:"h-100 d-flex align-items-center justify-content-center mr-1",attrs:{slot:"title"},slot:"title"},[t("base-button",{staticClass:"no-shadow",attrs:{type:"button","data-toggle":"dropdown",role:"button",size:"md",design:"white",rounded:"",iconOnly:"",icon:"fas fa-ellipsis-v"}})],1),t("meeting-dropdown-options",{attrs:{meeting:o,configs:e.configs,hasPermission:e.hasPermission,deleteEntity:e.deleteEntity,addToCalendar:e.addToCalendar,shareURL:e.shareURL}})],1)]},proxy:!0}],null,!0)})],1)]})],2)]),e.isFetching?t("div",{staticClass:"d-flex justify-content-center"},[t("animated-loader",{key:"loader",attrs:{"is-loading":e.isFetching,size:"inline","loader-color":e.vars.loaderColor,"overlay-color":"transparent"}})],1):e._e(),e.noMoreData?t("h5",{staticClass:"text-center my-4"},[e._v(e._s(e.$t("general.thats_all_for_now")))]):e._e()])],1)},u=[],h=p(g,f,u,!1,null,null,null,null);const q=h.exports;export{q as default};
