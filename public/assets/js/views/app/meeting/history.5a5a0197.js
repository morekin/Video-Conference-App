import{t as r}from"../../../table.beb39f38.js";import{F as n}from"../../../filter.0a184e03.js";import{s as l}from"../../../media.60d422e2.js";import{n as o}from"../../../_plugin-vue2_normalizer.7b9a2fe2.js";import"../../../app.a373aa59.js";import"../../../vendor/vendor-core.3574f8d9.js";import"../../../vendor/vendor-others.c8ba1624.js";import"../../../vendor/vendor-essential.91b5cfa2.js";import"../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../header.43f859fb.js";import"../../../event-bus.6a5776a8.js";import"../../../filter-form.45f778d7.js";const m={components:{FilterForm:n},extends:r,data(){return{fields:[{key:"user",label:$t("meeting.host"),transformer:"user"},{key:"type",label:$t("meeting.props.type"),transformer:"objectWithName"},{key:"identifier",label:$t("meeting.props.identifier")},{key:"accessibleViaLink",label:"",headerTitle:$t("meeting.meeting_attributes"),tdClass:"text-center",cantExport:!0},{key:"status",label:$t("meeting.props.status")},{key:"startDateTime",label:$t("meeting.started_at"),sort:"start_date_time",transformer:"datetime"},{key:"endedAt",label:$t("meeting.ended_at"),transformer:"datetime"},{key:"createdAt",label:$t("general.created_at"),sort:"created_at",transformer:"datetime",thClass:"d-none",tdClass:"d-none"},{key:"updatedAt",label:$t("general.updated_at"),sort:"updated_at",transformer:"datetime",thClass:"d-none",tdClass:"d-none"},{key:"actions",label:"",cantHide:!0,tdClass:"actions-dropdown-wrapper"}],preRequisite:{types:[],statuses:[]},filtersOptions:{type:"",status:"",startDate:"",endDate:""},sortOptions:{hasScroll:!0},columnsOptions:{hasScroll:!0},exportOptions:{orientation:"l"},permissionsRequired:{config:"access-meeting-config"},routesRequired:{config:"appMeetingConfigGeneral"},initUrl:"meetings",appendToQuery:{instant:!0},dataType:"meeting"}},methods:{sameDate({startDateTime:s,endDateTime:t}){return moment(s,this.vars.serverDateTimeFormat).format(this.vars.defaultDateFormat)===moment(t,this.vars.serverDateTimeFormat).format(this.vars.defaultDateFormat)},shareURL(s){let t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");t=t+(s.identifier?`/m/${s.identifier}`:`/app/live/meetings/${s.uuid}`);const e=s.identifier?`<span class="text-nowrap">${$t("meeting.meeting_code")}:</span> <strong class="ml-2 text-wrap-pre-line text-word-break-all"> ${s.identifier}</strong>`:null;l({title:$t("meeting.user_inviting_msg",{attribute:this.profile?this.profile.name:"User"}),alertTitle:e,alertHtml:`${$t("misc.share_alert.text")}<br><small class='text-muted'>${t}</small><br>`,url:t},()=>{this.$toasted.success($t("meeting.url_has_been_copied"),this.$toastConfig)})}},mounted(){this.getInitialData()}};var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"entity-list-container"},[e("collapse-transition",{attrs:{group:!0,duration:300,tag:"div"}},[t.showFilters?e("filter-form",{key:"filters",attrs:{boxed:!0,"pre-requisite":t.preRequisite,"is-loading":t.isLoading},on:{close:t.toggleFilter}}):t._e(),e("base-container",{key:"list",staticClass:"p-0 zoom-print-85",attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[t.isInitialized?e("table-wrapper",{attrs:{meta:t.entities.meta,filtered:t.isFiltered,"add-button-route":"appMeetingAdd","add-button-permissions":["create-meeting"],"entity-title":"meeting.meeting","entities-title":"meeting.meetings","entity-description":"meeting.module_description"}},[e("b-table",{directives:[{name:"show",rawName:"v-show",value:t.entities.meta.total,expression:"entities.meta.total"}],ref:"btable",attrs:{items:t.itemsProvider,fields:t.fields,busy:t.isLoading,hover:"",striped:"",stacked:"sm","per-page":t.entities.meta.perPage,"current-page":t.entities.meta.currentPage,filters:null},on:{"update:busy":function(i){t.isLoading=i}},scopedSlots:t._u([{key:"cell(user)",fn:function(i){return[e("view-user",{staticClass:"m-0",attrs:{value:i.item.user,"inline-sub":"","show-image":!1,"data-classes":"m-0"}})]}},{key:"cell(createdAt)",fn:function(i){return[e("view-date",{staticClass:"mb-0",attrs:{value:i.item.createdAt,"with-tz":"",tag:"span"}})]}},{key:"cell(updatedAt)",fn:function(i){return[e("view-date",{staticClass:"mb-0",attrs:{value:i.item.updatedAt,"with-tz":"",tag:"span"}})]}},{key:"cell(startDateTime)",fn:function(i){return[e("view-date",{staticClass:"mb-0",attrs:{value:i.item.startDateTime,"with-tz":"",tag:"span"}})]}},{key:"cell(endedAt)",fn:function(i){return[e("view-date",{staticClass:"mb-0",attrs:{value:i.item.endedAt,"with-tz":"",tag:"span"}})]}},{key:"cell(type)",fn:function(i){return[i.item.type?e("badge",{staticClass:"mb-0",attrs:{type:"default"}},[t._v(t._s(i.item.type.name))]):t._e()]}},{key:"cell(status)",fn:function(i){return[i.item.status?e("badge",{attrs:{rounded:"",type:t.vars.colorsForStatus["meeting-"+i.item.status]}},[t._v(t._s(i.item.status))]):t._e()]}},{key:"cell(accessibleViaLink)",fn:function(i){return[i.item.accessibleViaLink?e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"text-success",attrs:{title:t.$t("meeting.props.accessible_via_link")}},[e("i",{staticClass:"fas fa-link"})]):e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"text-light",attrs:{title:t.$t("meeting.props.not_accessible_via_link")}},[e("i",{staticClass:"fas fa-link"})]),i.item.isPam?e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"ml-3 text-success",attrs:{title:t.$t("meeting.props.is_pam")}},[e("i",{staticClass:"fas fa-users"})]):e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"ml-3 text-light",attrs:{title:t.$t("meeting.props.not_is_pam")}},[e("i",{staticClass:"fas fa-users"})]),t.allowExtraInput&&t.configs.meeting.enablePaidMeeting?[i.item.isPaid?e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"ml-3 text-success",attrs:{title:t.$t("meeting.props.is_paid")}},[e("i",{staticClass:"fas fa-dollar-sign"})]):e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"ml-3 text-light",attrs:{title:t.$t("meeting.props.not_is_paid")}},[e("i",{staticClass:"fas fa-dollar-sign"})])]:t._e(),t.allowExtraInput&&t.configs.membership.enabled?[i.item.accessibleToMembers?e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"ml-3 text-success",attrs:{title:t.$t("meeting.props.only_accessible_to_members")}},[e("i",{staticClass:"far fa-id-badge"})]):e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"ml-3 text-light",attrs:{title:t.$t("meeting.props.not_only_accessible_to_members")}},[e("i",{staticClass:"far fa-id-badge"})])]:t._e()]}},{key:"cell(actions)",fn:function(i){return[e("table-row-actions",[i.item.hasSnapshots&&t.configs.meeting&&t.configs.meeting.canTakeSnapshot?e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"appMeetingSnapshots",params:{uuid:i.item.uuid}}}},[e("i",{staticClass:"fas fa-image"}),t._v(" "+t._s(t.$t("global.view",{attribute:t.$t("meeting.snapshots")})))]):t._e(),(i.item.hasChunkRecordings||i.item.hasRecordings)&&t.configs.meeting&&t.configs.meeting.canRecord?e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"appMeetingRecordings",params:{uuid:i.item.uuid}}}},[e("i",{staticClass:"fas fa-photo-video"}),t._v(" "+t._s(t.$t("global.view",{attribute:t.$t("meeting.recordings")})))]):t._e(),i.item.status==="live"?e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"liveMeeting",params:{uuid:i.item.uuid}}}},[e("i",{staticClass:"fas fa-sign-in-alt"}),t._v(" "+t._s(t.$t("meeting.join_meeting")))]):t._e(),i.item.status==="live"?e("a",{staticClass:"dropdown-item",on:{click:function(a){return a.stopPropagation(),t.shareURL(i.item)}}},[e("i",{staticClass:"fas fa-share-alt"}),t._v(" "+t._s(t.$t("general.share_url")))]):t._e(),i.item.status==="live"&&t.hasPermission("list-meeting")&&i.item.canModerate?e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"appMeetingSingleConfig",params:{subUuid:i.item.uuid}}}},[e("i",{staticClass:"fas fa-cog"}),t._v(" "+t._s(t.$t("global.config",{attribute:t.$t("meeting.meeting")})))]):t._e(),t.hasPermission("delete-meeting")&&(i.item.status==="cancelled"&&t.configs.meeting&&t.configs.meeting.allowDeletingCancelledMeetings||i.item.status==="ended"&&t.configs.meeting&&t.configs.meeting.allowDeletingEndedMeetings)?e("a",{staticClass:"dropdown-item",on:{click:function(a){return a.stopPropagation(),t.deleteEntity(i.item)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" "+t._s(t.$t("global.delete",{attribute:t.$t("meeting.meeting")})))]):t._e()],1)]}}],null,!1,3068187375)})],1):t._e()],1)],1)],1)},c=[],p=o(m,d,c,!1,null,null,null,null);const D=p.exports;export{D as default};
