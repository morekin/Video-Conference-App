import{f as o}from"../../../form.90751a24.js";import{E as n}from"../../../event-bus.6a5776a8.js";import{S as i}from"../../../modal-form.e741cc94.js";import{f as l}from"../../../modal-form.2f5baf34.js";import{n as r}from"../../../_plugin-vue2_normalizer.7b9a2fe2.js";import{l as m}from"../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../header.43f859fb.js";import"../../../app.a373aa59.js";import"../../../vendor/vendor-core.3574f8d9.js";import"../../../vendor/vendor-others.c8ba1624.js";import"../../../vendor/vendor-essential.91b5cfa2.js";import"../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../FileUploader.78ddb8c0.js";import"../../../uploader.da0c2632.js";import"../../../momentz.ae4aeebe.js";const c={extends:l,data(){return{formData:{uuid:null,name:"",email:"",segments:[]},preRequisite:{segments:[]},initUrl:"contacts",dataType:"contact",dataTypeArr:"contacts",propertyToMatch:"name"}},mounted(){this.getInitialData()}};var u=function(){var t=this,e=t._self._c;return e("form",{staticClass:"has-fixed-footer",on:{submit:function(a){return a.preventDefault(),t.submit.apply(null,arguments)}}},[e("h5",{staticClass:"text-center"},[t._v(t._s(t.$t("global.add",{attribute:t.$t("contact.contact")})))]),e("hr"),e("animated-loader",{attrs:{"is-loading":t.isLoading,"loader-color":t.vars.loaderColor}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-4"},[e("base-input",{attrs:{label:t.$t("contact.props.email"),type:"text",error:t.formErrors.email,required:""},on:{"update:error":function(a){return t.$set(t.formErrors,"email",a)}},model:{value:t.formData.email,callback:function(a){t.$set(t.formData,"email",a)},expression:"formData.email"}})],1),e("div",{staticClass:"col-12 mb-4"},[e("base-input",{attrs:{label:t.$t("contact.props.name"),type:"text",error:t.formErrors.name},on:{"update:error":function(a){return t.$set(t.formErrors,"name",a)}},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1),e("div",{staticClass:"col-12 mb-4"},[e("base-select",{attrs:{options:t.preRequisite.segments,label:t.$t("contact.segment.segments"),error:t.formErrors.segments,multiple:"","close-on-select":!1,"allow-empty":!0},on:{"update:error":function(a){return t.$set(t.formErrors,"segments",a)}},model:{value:t.formData.segments,callback:function(a){t.$set(t.formData,"segments",a)},expression:"formData.segments"}})],1)]),e("div",{staticClass:"form-footer fixed-footer mt-5"},[e("div",{staticClass:"left-side"},[e("base-button",{attrs:{type:"button",design:"light",tabindex:"-1"},on:{click:function(a){return t.close()}}},[e("i",{staticClass:"fas fa-chevron-left"}),t._v(" "+t._s(t.$t("general.cancel")))])],1),e("div",{staticClass:"right-side"},[e("base-button",{attrs:{type:"submit",design:"primary"}},[e("i",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.$t("global.save",{attribute:t.$t("contact.contact")})))])],1)])],1)},f=[],p=r(c,u,f,!1,null,null,null,null);const d=p.exports,b={extends:o,components:{BFormTags:m,SegmentForm:i,ContactForm:d},data(){return{formData:{uuid:null,segments:[],contacts:[],emails:[],emailList:""},preRequisite:{segments:[],contacts:[]},formLabels:{segments:$t("contact.segment.segments"),contacts:$t("contact.contacts"),emails:$t("contact.emails"),emailList:$t("contact.props.email_list")},initUrl:"meetings",initSubUrl:"invitees"}},mounted(){this.getInitialData()},beforeRouteLeave(s,t,e){n.$emit("ROUTE_LEAVING",e)}};var g=function(){var t=this,e=t._self._c;return e("base-container",{attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor,id:"printable"}},[e("form",{on:{submit:function(a){return a.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6"},[e("base-select",{staticClass:"mb-5",attrs:{options:t.preRequisite.segments,label:t.formLabels.segments,error:t.formErrors.segments,multiple:"","close-on-select":!1,"allow-empty":!0,"add-new-modal":!0,"needed-permission":"access-contact","page-route":"appSegmentList"},on:{"update:error":function(a){return t.$set(t.formErrors,"segments",a)}},scopedSlots:t._u([{key:"addNewModal",fn:function(){return[e("segment-form",{attrs:{"push-to-arr":""},on:{close:t.newModalClose}})]},proxy:!0}]),model:{value:t.formData.segments,callback:function(a){t.$set(t.formData,"segments",a)},expression:"formData.segments"}}),e("base-select",{staticClass:"mb-5",attrs:{options:t.preRequisite.contacts,label:t.formLabels.contacts,error:t.formErrors.contacts,multiple:"","close-on-select":!1,"allow-empty":!0,"add-new-modal":!0,"needed-permission":"access-contact","page-route":"appContactList"},on:{"update:error":function(a){return t.$set(t.formErrors,"contacts",a)}},scopedSlots:t._u([{key:"addNewModal",fn:function(){return[e("contact-form",{attrs:{"push-to-arr":""},on:{close:t.newModalClose}})]},proxy:!0}]),model:{value:t.formData.contacts,callback:function(a){t.$set(t.formData,"contacts",a)},expression:"formData.contacts"}}),e("multiselect-wrapper",{attrs:{label:t.formLabels.emails,value:t.formData.emails,error:t.formErrors.emails},on:{"update:error":function(a){return t.$set(t.formErrors,"emails",a)}}},[e("b-form-tags",{staticClass:"input-group-material mb-4",attrs:{"input-id":"tags-email",placeholder:t.formLabels.emails,"input-type":"email","tag-variant":"light"},model:{value:t.formData.emails,callback:function(a){t.$set(t.formData,"emails",a)},expression:"formData.emails"}})],1)],1),e("div",{staticClass:"col-12 col-md-6"},[e("base-textarea",{attrs:{rows:"10",label:t.formLabels.emailList,error:t.formErrors.emailList},on:{"update:error":function(a){return t.$set(t.formErrors,"emailList",a)}},model:{value:t.formData.emailList,callback:function(a){t.$set(t.formData,"emailList",a)},expression:"formData.emailList"}})],1)]),t.formHasErrors?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("h6",{staticClass:"m-0"},[t._v(t._s(t.$t("general.form_has_errors")))])]):t._e(),e("div",{staticClass:"form-footer mt-5"},[e("div",{staticClass:"left-side"},[e("base-button",{attrs:{type:"button",design:"light",tabindex:"-1"},on:{click:function(a){return t.$router.back()}}},[e("i",{staticClass:"fas fa-chevron-left"}),t._v(" "+t._s(t.$t("general.cancel")))])],1),e("div",{staticClass:"right-side"},[e("base-button",{attrs:{type:"button",design:"light"},on:{click:t.reset}},[t._v(t._s(t.$t("general.reset")))]),e("base-button",{attrs:{type:"submit",design:"primary"}},[t._v(t._s(t.$t("global.save",{attribute:t.$t("meeting.invitee.invitees")})))])],1)])])])},v=[],_=r(b,g,v,!1,null,null,null,null);const T=_.exports;export{T as default};
