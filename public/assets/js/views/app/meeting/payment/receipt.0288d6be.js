import{v as s}from"../../../../view.a2d30644.js";import{i as a}from"../../../../vendor/vendor-core.3574f8d9.js";import{h as r}from"../../../../header.43f859fb.js";import{P as n}from"../../../../simple.1553e3b2.js";import{n as c}from"../../../../_plugin-vue2_normalizer.7b9a2fe2.js";import"../../../../helpers/transformers.20070e00.js";import"../../../../app.a373aa59.js";import"../../../../vendor/vendor-others.c8ba1624.js";import"../../../../vendor/vendor-essential.91b5cfa2.js";import"../../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../../event-bus.6a5776a8.js";import"../../../../AppLogo.91541531.js";const o={extends:s,components:{PrintHeaderSimple:n},data(){return{receipt:null,showPrintHeader:!0,headerMargin:150,initUrl:"meetings",dataTitle:$t("meeting.meeting"),fallBackRoute:"appMeetingList",headerButtons:[r($t("general.print"),"fas fa-print",{event:"EXPORT",options:{type:"print"}})],providerConfigs:null}},computed:{computedBasic(){return this.receipt&&this.receipt.billingAddress?this.receipt.billingAddress:{}},address(){let i=this.computedBasic.addressLine1;return i=this.computedBasic.addressLine2?i?`${i}, ${this.computedBasic.addressLine2}`:this.computedBasic.addressLine2:i,i},region(){let i=this.computedBasic.city;return i=i?this.computedBasic.zipcode?`${i} - ${this.computedBasic.zipcode}`:i:"",i=this.computedBasic.state?i?`${i}, ${this.computedBasic.state}`:this.computedBasic.state:i,i=this.computedBasic.country?i?`${i}, ${this.computedBasic.country}`:this.computedBasic.country:i,i}},methods:{...a("common",["ResetEntity","SetEntity"]),getProviderConfig(){this.isLoading=!0,this.Custom({url:"config?provider=true",method:"get"}).then(i=>{i&&i.assets&&i.domain&&i.domain.app&&i.assets.objForEach((t,e)=>{i.assets[e]=i.domain.app+t}),this.providerConfigs=i,this.autoPrint(),this.isLoading=!1}).catch(i=>{this.isLoading=!1,formUtil.handleErrors(i)})},autoPrint(){window.setTimeout(()=>{this.export()},1e3)},afterGetInitialData(i){i&&i.isPaid&&i.hasPaid||this.$router.push({name:"appMeetingView",params:{uuid:i.uuid}}),this.SetEntity(i),this.getReceipt()},getReceipt(){this.isLoading=!0,this.Custom({url:`/${this.initUrl}/${this.entity.uuid}/payment/receipt`,method:"get"}).then(i=>{this.receipt=i,this.isLoading=!1}).catch(i=>{this.isLoading=!1,formUtil.handleErrors(i)})}},mounted(){this.getInitialData().then(i=>{this.getProviderConfig()})}};var d=function(){var t=this,e=t._self._c;return e("base-container",{staticClass:"print-black-color",attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor,id:"printable"}},[t.showPrintHeader?e("print-header-simple",{attrs:{"custom-configs":t.providerConfigs}}):e("div",{staticClass:"header-margin",style:{height:t.headerMargin+"px"}}),t.entity&&t.receipt?[e("div",{staticClass:"row"},[t.receipt.billingAddress?e("div",{staticClass:"col-5 pt-1"},[t.receipt.billingAddress.userName?e("h5",{staticClass:"font-weight-700 mb-1"},[t._v(t._s(t.receipt.billingAddress.userName))]):t._e(),t.address?e("p",{staticClass:"mb-0"},[t._v(t._s(t.address))]):t._e(),t.region?e("p",{staticClass:"mb-0"},[t._v(t._s(t.region))]):t._e()]):t._e(),e("div",{staticClass:"col-7"},[e("h1",{staticClass:"text-uppercase text-right fs-3 font-weight-800 mt-0"},[t._v(t._s(t.$t("meeting.paid_meeting")))])])]),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-4"},[e("view-single",{attrs:{label:t.$t("meeting.payment.invoice_number"),value:t.receipt.number,"data-classes":"font-weight-600"}})],1),e("div",{staticClass:"col-4"},[e("view-date",{staticClass:"text-center",attrs:{label:t.$t("meeting.payment.date"),value:t.receipt.date,"view-group-classes":"border-left border-right","data-classes":"font-weight-600"}})],1),e("div",{staticClass:"col-4"},[e("view-single",{staticClass:"text-right",attrs:{label:t.$t("meeting.payment.method"),value:t.receipt.paymentGateway.source,"data-classes":"font-weight-600"}})],1)]),e("table",{staticClass:"table table-bordered table-sm mt-4 mb-4"},[e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{staticClass:"min-width-40px"},[t._v("#")]),e("th",{staticClass:"text-left min-width-100px"},[t._v(t._s(t.$t("meeting.props.title")))]),e("th",{staticClass:"text-left min-width-100px"},[t._v(t._s(t.$t("meeting.props.identifier")))]),e("th",{staticClass:"text-left min-width-100px"},[t._v(t._s(t.$t("meeting.props.date_time")))]),e("th",{staticClass:"text-left min-width-100px"},[t._v(t._s(t.$t("meeting.payment.transaction_id")))]),e("th",{staticClass:"text-right min-width-100px"},[t._v(t._s(t.$t("meeting.payment.amount")))])])]),e("tbody",[e("tr",[e("td",{},[t._v("1")]),e("td",{},[t._v(t._s(t.entity.title))]),e("td",{},[t._v(t._s(t.entity.identifier))]),e("td",{staticClass:"text-left"},[e("view-date",{staticClass:"mb-0 text-left",attrs:{value:t.entity.startDateTime}})],1),e("td",{},[e("p",{staticClass:"text-wrap-pre-line"},[t._v(t._s(t.receipt.paymentGateway.referenceNumber))])]),e("td",{staticClass:"text-right"},[e("view-currency",{staticClass:"mb-0",attrs:{value:t.receipt.amount,currency:t.receipt.currency,"data-classes":"font-weight-600"}})],1)])]),e("tfoot",[e("tr",[e("td",{staticClass:"text-right fs-2 font-weight-600",attrs:{colspan:"5"}},[t._v(t._s(t.$t("general.total")))]),e("td",{staticClass:"text-right"},[e("view-currency",{staticClass:"mb-0",attrs:{value:t.receipt.amount,currency:t.receipt.currency,"data-classes":"font-weight-600 text-success fs-2"}})],1)])])])]:t._e(),e("div",{staticClass:"form-footer mt-5"},[e("div",{staticClass:"left-side"},[e("base-button",{attrs:{type:"button",design:"light",tabindex:"-1"},on:{click:function(p){return t.$router.back()}}},[e("i",{staticClass:"fas fa-chevron-left"}),t._v(" "+t._s(t.$t("general.back")))])],1)])],2)},l=[],m=c(o,d,l,!1,null,"b9706e64",null,null);const L=m.exports;export{L as default};
