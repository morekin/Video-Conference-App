import{t as l}from"../../../../table.beb39f38.js";import{f as o}from"../../../../filter-form.45f778d7.js";import{n as a}from"../../../../_plugin-vue2_normalizer.7b9a2fe2.js";import"../../../../app.a373aa59.js";import"../../../../vendor/vendor-core.3574f8d9.js";import"../../../../vendor/vendor-others.c8ba1624.js";import"../../../../vendor/vendor-essential.91b5cfa2.js";import"../../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../../header.43f859fb.js";import"../../../../event-bus.6a5776a8.js";const n={extends:o,mounted(){this.filters.status=this.filters.status===!0||this.filters.status==="true"}};var d=function(){var t=this,e=t._self._c;return e("filter-wrapper",{attrs:{boxed:t.boxed,"is-loading":t.isLoading},on:{close:function(s){return t.$emit("close")}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-4 mb-3"},[e("base-input",{attrs:{"auto-focus":"",label:t.$t("site.page.props.title"),type:"text",disabled:t.isLoading},model:{value:t.filters.title,callback:function(s){t.$set(t.filters,"title",s)},expression:"filters.title"}})],1),e("div",{staticClass:"col-12 col-md-4 mb-3"},[e("base-input",{attrs:{label:t.$t("site.page.props.code"),type:"text",disabled:t.isLoading},model:{value:t.filters.code,callback:function(s){t.$set(t.filters,"code",s)},expression:"filters.code"}})],1),e("div",{staticClass:"col-12 col-md-4 mb-3 d-flex justify-content-start align-items-end"},[e("base-checkbox",{staticClass:"ml-3 mb-3",model:{value:t.filters.status,callback:function(s){t.$set(t.filters,"status",s)},expression:"filters.status"}},[t._v(" "+t._s(t.$t("site.page.props.is_published"))+" ")])],1)])])},p=[],c=a(n,d,p,!1,null,null,null,null);const u=c.exports,m={components:{FilterForm:u},extends:l,data(){return{fields:[{key:"title",label:$t("site.page.props.title"),sort:"title"},{key:"template.name",label:$t("site.page_template.template")},{key:"parent.title",label:$t("site.page.props.parent"),thClass:"d-none",tdClass:"d-none"},{key:"slug",label:$t("site.page.props.slug"),thClass:"d-none",tdClass:"d-none"},{key:"status",label:$t("site.is_published"),sort:"status",transformer:"badgeStatusYesNo"},{key:"createdAt",label:$t("general.created_at"),sort:"created_at",transformer:"date",thClass:"d-none",tdClass:"d-none"},{key:"updatedAt",label:$t("general.updated_at"),sort:"updated_at",transformer:"date",thClass:"d-none",tdClass:"d-none"},{key:"actions",label:"",cantHide:!0,tdClass:"actions-dropdown-wrapper"}],filtersOptions:{title:"",code:"",status:""},permissionsRequired:{add:"access-page",config:"access-page-config"},routesRequired:{add:"appSitePageAdd",config:"appSitePageConfigTemplate"},initUrl:"site/pages",dataType:"page"}},mounted(){this.updatePageMeta()}};var f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"entity-list-container"},[e("collapse-transition",{attrs:{group:!0,duration:300,tag:"div"}},[t.showFilters?e("filter-form",{key:"filters",attrs:{boxed:!0,"pre-requisite":t.preRequisite,"is-loading":t.isLoading},on:{close:t.toggleFilter}}):t._e(),e("base-container",{key:"list",staticClass:"p-0",attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[t.isInitialized?e("table-wrapper",{attrs:{meta:t.entities.meta,filtered:t.isFiltered,"add-button-route":"appSitePageAdd","add-button-permissions":["access-page"],"entity-title":"site.page.page","entities-title":"site.page.pages","entity-description":"site.page.module_description"}},[e("b-table",{directives:[{name:"show",rawName:"v-show",value:t.entities.meta.total,expression:"entities.meta.total"}],ref:"btable",attrs:{items:t.itemsProvider,fields:t.fields,busy:t.isLoading,hover:"",striped:"",stacked:"sm","per-page":t.entities.meta.perPage,"current-page":t.entities.meta.currentPage,filters:null},on:{"update:busy":function(s){t.isLoading=s}},scopedSlots:t._u([{key:"cell(createdAt)",fn:function(s){return[e("view-date",{staticClass:"mb-0",attrs:{value:s.item.createdAt,"to-format":t.vars.defaultDateTimeFormat,tag:"span"}})]}},{key:"cell(status)",fn:function(s){return[s.item.status?e("badge",{attrs:{rounded:"",type:"primary"}},[e("i",{staticClass:"far fa-check-circle"}),t._v(" "+t._s(t.$t("general.yes")))]):e("badge",{attrs:{rounded:"",type:"dark"}},[e("i",{staticClass:"far fa-circle"}),t._v(" "+t._s(t.$t("general.no")))])]}},{key:"cell(actions)",fn:function(s){return[e("table-row-actions",[e("a",{staticClass:"dropdown-item",attrs:{href:`/pages/${s.item.slug}`,target:"_blank"}},[e("i",{staticClass:"fas fa-arrow-circle-right"}),t._v(" "+t._s(t.$t("global.view",{attribute:t.$t("site.page.page")})))]),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"appSitePageEdit",params:{uuid:s.item.uuid}}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" "+t._s(t.$t("global.edit",{attribute:t.$t("site.page.page")})))]),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"appSitePageDuplicate",params:{uuid:s.item.uuid}}}},[e("i",{staticClass:"fas fa-copy"}),t._v(" "+t._s(t.$t("global.duplicate",{attribute:t.$t("site.page.page")})))]),e("a",{staticClass:"dropdown-item",on:{click:function(r){return r.stopPropagation(),t.deleteEntity(s.item)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" "+t._s(t.$t("global.delete",{attribute:t.$t("site.page.page")})))])],1)]}}],null,!1,26575944)})],1):t._e()],1)],1)],1)},g=[],b=a(m,f,g,!1,null,null,null,null);const L=b.exports;export{L as default};
