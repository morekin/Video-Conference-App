import{t as n}from"../../../../table.beb39f38.js";import{f as l}from"../../../../filter-form.45f778d7.js";import{n as i}from"../../../../_plugin-vue2_normalizer.7b9a2fe2.js";import"../../../../app.a373aa59.js";import"../../../../vendor/vendor-core.3574f8d9.js";import"../../../../vendor/vendor-others.c8ba1624.js";import"../../../../vendor/vendor-essential.91b5cfa2.js";import"../../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../../header.43f859fb.js";import"../../../../event-bus.6a5776a8.js";const o={extends:l};var c=function(){var e=this,t=e._self._c;return t("filter-wrapper",{attrs:{boxed:e.boxed,"is-loading":e.isLoading},on:{close:function(s){return e.$emit("close")}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-4 mb-3"},[t("base-input",{attrs:{label:e.$t("site.subscriber.props.email"),type:"text",disabled:e.isLoading},model:{value:e.filters.email,callback:function(s){e.$set(e.filters,"email",s)},expression:"filters.email"}})],1)])])},d=[],u=i(o,c,d,!1,null,null,null,null);const b=u.exports,p={components:{FilterForm:b},extends:n,data(){return{fields:[{key:"email",label:$t("site.subscriber.props.email")},{key:"createdAt",label:$t("site.subscriber.props.subscribed_at"),sort:"created_at",transformer:"date"},{key:"isSubscribed",label:$t("site.subscriber.props.is_subscribed"),transformer:"badgeStatusCompleted",formatter:(r,e,t)=>!t.unsubscribedAt},{key:"unsubscribedAt",label:$t("site.subscriber.props.unsubscribed_at"),sort:"unsubscribed_at",transformer:"date"},{key:"updatedAt",label:$t("general.updated_at"),sort:"updated_at",transformer:"date",thClass:"d-none",tdClass:"d-none"},{key:"actions",label:"",cantHide:!0,tdClass:"actions-dropdown-wrapper"}],filtersOptions:{email:""},initUrl:"site/subscribers",dataType:"subscriber"}},mounted(){this.updatePageMeta()}};var m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"entity-list-container"},[t("collapse-transition",{attrs:{group:!0,duration:300,tag:"div"}},[e.showFilters?t("filter-form",{key:"filters",attrs:{boxed:!0,"pre-requisite":e.preRequisite,"is-loading":e.isLoading},on:{close:e.toggleFilter}}):e._e(),t("base-container",{key:"list",staticClass:"p-0",attrs:{boxed:"","with-loader":"","is-loading":e.isLoading,"loader-color":e.vars.loaderColor}},[e.isInitialized?t("table-wrapper",{attrs:{meta:e.entities.meta,filtered:e.isFiltered,"entity-title":"site.subscriber.subscriber","entities-title":"site.subscriber.subscribers","entity-description":"site.subscriber.module_description"}},[t("b-table",{directives:[{name:"show",rawName:"v-show",value:e.entities.meta.total,expression:"entities.meta.total"}],ref:"btable",attrs:{items:e.itemsProvider,fields:e.fields,busy:e.isLoading,hover:"",striped:"",stacked:"sm","per-page":e.entities.meta.perPage,"current-page":e.entities.meta.currentPage,filters:null},on:{"update:busy":function(s){e.isLoading=s}},scopedSlots:e._u([{key:"cell(createdAt)",fn:function(s){return[t("view-date",{staticClass:"mb-0",attrs:{value:s.item.createdAt,"with-tz":"",tag:"span"}})]}},{key:"cell(updatedAt)",fn:function(s){return[t("view-date",{staticClass:"mb-0",attrs:{value:s.item.updatedAt,"with-tz":"",tag:"span"}})]}},{key:"cell(unsubscribedAt)",fn:function(s){return[t("view-date",{staticClass:"mb-0",attrs:{value:s.item.unsubscribedAt,"with-tz":"",tag:"span"}})]}},{key:"cell(isSubscribed)",fn:function(s){return[s.value?t("badge",{attrs:{rounded:"",type:"success"}},[t("i",{staticClass:"fas fa-circle"}),e._v(" "+e._s(e.$t("general.yes")))]):t("badge",{attrs:{rounded:"",type:"dark"}},[t("i",{staticClass:"far fa-circle"}),e._v(" "+e._s(e.$t("general.no")))])]}},{key:"cell(actions)",fn:function(s){return[t("table-row-actions",[e.hasPermission("delete-subscriber")?t("a",{staticClass:"dropdown-item",on:{click:function(a){return a.stopPropagation(),e.deleteEntity(s.item)}}},[t("i",{staticClass:"fas fa-trash"}),e._v(" "+e._s(e.$t("global.delete",{attribute:e.$t("site.subscriber.subscriber")})))]):e._e()])]}}],null,!1,3088696207)})],1):e._e()],1)],1)],1)},f=[],_=i(p,m,f,!1,null,null,null,null);const L=_.exports;export{L as default};
