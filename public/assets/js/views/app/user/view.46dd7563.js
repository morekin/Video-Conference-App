import{v as n}from"../../../view.a2d30644.js";import{P as r,a as o}from"../../../ProfilePage.f2eb4651.js";import"../../../app.a373aa59.js";import{m as a}from"../../../vendor/vendor-core.3574f8d9.js";import{n as l}from"../../../_plugin-vue2_normalizer.7b9a2fe2.js";import"../../../header.43f859fb.js";import"../../../helpers/transformers.20070e00.js";import"../../../vendor/vendor-others.c8ba1624.js";import"../../../vendor/vendor-essential.91b5cfa2.js";import"../../../vendor/vendor-bootstrap-vue.17129278.js";import"../../../vendor/vendor-vue-gtag.f8884558.js";import"../../../event-bus.6a5776a8.js";const u={extends:n,components:{ProfilePage:r,ProfilePageSidebox:o},data(){return{initUrl:"users",dataTitle:$t("user.user"),fallBackRoute:"appUserList",permissionsRequired:{add:"create-user",edit:"edit-user"},routesRequired:{add:"appUserAdd",edit:"appUserEdit"}}},computed:{...a("config",["vars"]),...a("user",["hasPermission","liveUsers"]),liveUser(){return this.value&&this.liveUsers.find(i=>i.uuid===this.uuid)},isOnline(){return!!this.liveUser}},methods:{changeStatus(i){formUtil.confirmAction().then(t=>{if(t.value){this.isLoading=!0;let e={status:i};this.Custom({url:`/${this.initUrl}/${this.uuid}/status`,method:"post",data:e}).then(s=>{this.isLoading=!1,this.getInitialData()}).catch(s=>{this.isLoading=!1,formUtil.handleErrors(s)})}else t.dismiss,Swal.DismissReason.cancel})}}};var c=function(){var t=this,e=t._self._c;return e("profile-page",{attrs:{"is-loading":t.isLoading,"loader-color":t.vars.loaderColor,"inner-sidebar-box-classes":"h-100"},scopedSlots:t._u([{key:"sidebarMainContent",fn:function(){return[t.entity?e("profile-card",{attrs:{name:t.entity.profile.name,"sub-heading":t.entity.username||"-",gender:t.entity.profile.gender,image:t.entity.profile.avatar,"cover-image":t.entity.profile.cover,age:t.entity.profile.age,"data-card-color":"whitish","user-status":t.isOnline,user:t.entity,horizontal:!1}}):t._e()]},proxy:!0},{key:"mainContent",fn:function(){return[e("base-container",{attrs:{boxed:"","with-loader":"","has-footer":"","min-height":"full","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[t.entity?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6 mb-3"},[e("view-single",{attrs:{label:t.$t("user.props.name"),value:t.entity.profile.name}})],1),e("div",{staticClass:"col-12 col-md-6 mb-3"},[e("view-single",{attrs:{label:t.$t("user.props.gender"),value:t.entity.profile.gender,showIfExists:"name"}})],1),e("div",{staticClass:"col-12 col-md-6 mb-3"},[e("view-single",{attrs:{label:t.$t("user.props.email"),value:t.entity.email}})],1),e("div",{staticClass:"col-12 col-md-6 mb-3"},[e("view-single",{attrs:{label:t.$t("user.props.mobile"),value:t.entity.mobile}})],1),e("div",{staticClass:"col-12 col-md-6 mb-3"},[e("view-date",{attrs:{label:t.$t("user.props.birth_date"),value:t.entity.profile.birthDate}})],1),e("div",{staticClass:"col-12 col-md-6 mb-3"},[e("view-single",{attrs:{label:t.$t("config.role.role"),value:t.entity.role,"show-if-exists":"name"}})],1)])]:t._e(),e("div",{staticClass:"form-footer mt-5"},[e("div",{staticClass:"left-side"},[e("base-button",{attrs:{type:"button",design:"light",tabindex:"-1"},on:{click:function(s){return t.$router.back()}}},[e("i",{staticClass:"fas fa-chevron-left"}),t._v(" "+t._s(t.$t("general.back")))])],1),t.hasPermission("edit-user")?e("div",{staticClass:"right-side"},[t.entity?[t.entity.status==="activated"?e("base-button",{attrs:{type:"button",design:"danger"},on:{click:function(s){return t.changeStatus("banned")}}},[t._v(t._s(t.$t("user.user_action_ban")))]):t._e(),t.entity.status==="banned"?e("base-button",{attrs:{type:"button",design:"success"},on:{click:function(s){return t.changeStatus("activated")}}},[t._v(t._s(t.$t("user.user_action_activate")))]):t._e(),t.entity.status==="pending_activation"?e("base-button",{attrs:{type:"button",design:"success"},on:{click:function(s){return t.changeStatus("activated")}}},[t._v(t._s(t.$t("user.user_action_approve")))]):t._e(),t.entity.status==="pending_approval"?e("base-button",{attrs:{type:"button",design:"success"},on:{click:function(s){return t.changeStatus("activated")}}},[t._v(t._s(t.$t("user.user_action_approve")))]):t._e(),t.entity.status==="pending_approval"?e("base-button",{attrs:{type:"button",design:"warning"},on:{click:function(s){return t.changeStatus("disapproved")}}},[t._v(t._s(t.$t("user.user_action_disapprove")))]):t._e()]:t._e()],2):t._e()])],2)]},proxy:!0}])})},d=[],p=l(u,c,d,!1,null,null,null,null);const x=p.exports;export{x as default};
